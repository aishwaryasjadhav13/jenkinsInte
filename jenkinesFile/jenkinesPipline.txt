pipeline {
    agent any

    enviroment {
        def SF_CONSUMER_KEY=env.SF_CONSUMER_KEY
        def SF_USERNAME=env.SF_USERNAME
        def SERVER_KEY_CREDENTALS_ID=env.SERVER_KEY_CREDENTALS_ID
    }
    stages {
        stage('Build') {
            steps {
                echo 'Building...'
                // Standard build steps
                sh "sf org login jwt --instance-url ${SF_INSTANCE_URL} --client-id ${SF_CONSUMER_KEY} --username ${SF_USERNAME} --jwt-key-file ${server_key_file} --set-default-dev-hub --alias HubOrg"
            }
        }
 
        stage('Test') {
            steps {
                echo 'Testing...'
                // Standard testing steps
            }
        }
 
        stage('Deploy') {
            steps {
                echo 'Deploying...'
                // Standard deployment steps
            }
        }
    }
}